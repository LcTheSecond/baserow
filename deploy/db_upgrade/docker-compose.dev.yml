version: "3.4"
services:
  # A dev compose file for quickly setting up an all in one with hot code reloading
  baserow_all_in_one_dev:
    image: baserow_dev
    build:
      dockerfile: $PWD/deploy/db_upgrade/dev.Dockerfile
      context: $PWD
      args:
        # We allow configuring the UID/GID here so you can run as the dev's actual user
        # reducing the chance the containers screw up the bind mounted folders.
        UID: $UID
        GID: $GID
    volumes:
      - baserow_all_in_one_data:/baserow/data
      - $PWD/deploy/db_upgrade/baserow.sh:/baserow.sh

    stdin_open: true
    tty: true
volumes:
  baserow_all_in_one_data:
